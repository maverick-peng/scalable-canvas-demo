var y=Object.defineProperty;var p=(n,e,i)=>e in n?y(n,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[e]=i;var l=(n,e,i)=>(p(n,typeof e!="symbol"?e+"":e,i),i);const x=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function i(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(t){if(t.ep)return;t.ep=!0;const s=i(t);fetch(t.href,s)}};x();CanvasRenderingContext2D.prototype.roundRect=function(n,e,i,r,t){return this.strokeStyle="#555",this.moveTo(n+t,e),this.arcTo(n+i,e,n+i,e+r,t),this.arcTo(n+i,e+r,n,e+r,t),this.arcTo(n,e+r,n,e,t),this.arcTo(n,e,n+i,e,t),this.closePath(),this};const h=document.querySelector("canvas"),c=h==null?void 0:h.getContext("2d");class f{constructor(e,i,r,t,s,o){this.x=e,this.y=i,this.w=r,this.h=t,this.r=s,this.style=o}}const a=class{constructor(e,i,r,t,s,o,w){l(this,"ctx");l(this,"scale",1);l(this,"originx",0);l(this,"originy",0);l(this,"visibleWidth");l(this,"visibleHeight");l(this,"zoomIntensity",.2);l(this,"image");this.canvas=e,this.width=i,this.height=r,this.maxScale=t,this.minScale=s,this.buttons=o,this.imageUrl=w,this.ctx=e.getContext("2d"),this.canvas.width=i,this.canvas.height=r,this.visibleWidth=i,this.visibleHeight=r,a.wheelCallback&&e.removeEventListener("wheel",a.wheelCallback),a.animationId&&window.cancelAnimationFrame(a.animationId),this.image=new Image,this.image.classList.add("auto"),this.image.src="./src/assets/2F-\u95B1\u89BD\u5EA7\u4F4D.png",this.image.onload=()=>{this.ctx.drawImage(this.image,0,0,1920,2e3,0,0,1920,2e3)}}setImage(){}render(){this.ctx.clearRect(this.originx,this.originy,this.visibleWidth,this.visibleHeight),this.ctx.fillStyle="#fff",this.ctx.fillRect(this.originx,this.originy,this.visibleWidth,this.visibleHeight),this.ctx.drawImage(this.image,0,0,1920,2e3,0,0,1920,2e3),this.buttons.forEach(e=>this.renderButton(e)),a.animationId=window.requestAnimationFrame(this.render.bind(this))}reset(){this.ctx.clearRect(this.originx,this.originy,this.width,this.height),c.resetTransform(),this.visibleWidth=this.width,this.visibleHeight=this.height,this.originx=0,this.originy=0,this.scale=1,this.render()}renderButton(e){var i;c.beginPath(),c.fillStyle=e.style||"#aaa",c.roundRect(e.x,e.y,e.w,e.h,(i=e.r)!=null?i:0),c.fill(),c.closePath()}listenWheel(){const e=this;a.wheelCallback=i=>{i.preventDefault();const r=i.clientX-h.offsetLeft,t=i.clientY-h.offsetTop,s=i.deltaY<0?1:-1;if(s===-1&&e.scale<e.minScale||s===1&&e.scale>e.maxScale)return;const o=Math.exp(s*e.zoomIntensity);e.ctx.translate(e.originx,e.originy),e.originx-=r/(e.scale*o)-r/e.scale,e.originy-=t/(e.scale*o)-t/e.scale,e.ctx.scale(o,o),e.ctx.translate(-e.originx,-e.originy),e.scale*=o,e.visibleWidth=e.width/e.scale,e.visibleHeight=e.height/e.scale},this.canvas.addEventListener("wheel",a.wheelCallback)}};let u=a;l(u,"wheelCallback"),l(u,"animationId",null);const g=new Array;g.push(new f(89,234,58,58,8,"#ab8"));g.push(new f(149,234,61,58,8,"#ab0"));g.push(new f(213,234,57,58,8,"#abf"));let d=new u(h,500,500,2,.5,g,"./src/assets/2F-\u95B1\u89BD\u5EA7\u4F4D.png");d.render();d.listenWheel();const m=document.getElementById("resetBtn");m==null||m.addEventListener("click",()=>{d.reset()});window.addEventListener("resize",()=>{d=new u(h,window.innerWidth*.7,500,2,.5,g,"./src/assets/2F-\u95B1\u89BD\u5EA7\u4F4D.png"),d.render(),d.listenWheel()});
